{
  "name": "16. LoadingFallback: Custom Loading States for Sections",
  "description": "How to export LoadingFallback components in sections to provide custom skeleton UIs during async rendering and minimize CLS.",
  "content": "---\ndescription: Adding loading fallback for sections\nsince: 1.54.0\n---\n\n# Loading Fallback\n\n## Overview\n\nLoading fallbacks are a powerful concept available to be used since 1.54.0\nversion, to handle loading state of sections using data from third party APIs.\nThey allow you to gracefully handle loading states and prevent the entire\napplication from hanging due to some third party API\n\nIn deco, creating a loading fallback is as simple as exporting a component\nfunction named `LoadingFallback`.\n\nThe pre-requisites to make your component work is having the following\ndependencies in versions higher or equal than below:\n\n```json\n{\n  \"imports\": {\n    \"deco/\": \"https://denopkg.com/deco-cx/deco@1.54.0/\",\n    \"$fresh/\": \"https://denopkg.com/deco-cx/fresh@1.3.2/\",\n    \"preact\": \"https://esm.sh/preact@10.16.0\",\n    \"preact/\": \"https://esm.sh/preact@10.16.0/\",\n    \"preact-render-to-string\": \"https://esm.sh/*preact-render-to-string@6.2.0\",\n    \"@preact/signals\": \"https://esm.sh/*@preact/signals@1.1.3\",\n    \"@preact/signals-core\": \"https://esm.sh/@preact/signals-core@1.3.0\"\n  }\n}\n```\n\n## Example: Creating a Loading Fallback\n\nTo create a loading fallback, you can follow these steps:\n\n- Pick your selected Section (e.g `ProductShelf.tsx`)\n- Export a function named `LoadingFallback`.\n\n```tsx\n// ProductShelf.tsx\nexport interface Props {\n    myProp: string;\n}\n\nexport function LoadingFallback() {\n  // Renderer spinners, skeletons and other placeholder\n  return (\n    <div>\n      <h2>loading...</h2>\n    </div>\n  );\n}\n\nexport default function ProductShelf(props: Props) {\n    ...\n}\n```\n\nIf `ProductShelf` uses a data coming from a slow third party API, the\n`LoadingFallback` component will be rendered instead. If no loading fallback is\nset, a default fallback will be rendered instead\n"
}