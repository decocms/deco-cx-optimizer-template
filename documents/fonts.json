{
  "name": "13. Font Optimization: Google Fonts & Custom Fonts",
  "description": "Best practices for loading fonts using Google Fonts integration and serving custom fonts with proper font-display strategies to minimize FCP impact.",
  "content": "---\ndescription: Learn how to use fonts on your website without sacrificing performance.\n---\n\n## Summary\n\n> Loading fonts can impact the time to first contentful paint, layout shift, and\n> overall page speed index.\n>\n> To optimize font usage, it is recommended to:\n>\n> 1. Use the default `Theme` section in the deco template.\n> 2. Prefer using one of the\n>    [default font families offered by Google](https://fonts.google.com/).\n> 3. If you need a custom font, use a small-sized font and prefer the woff/woff2\n>    formats.\n\n## Fonts in the deco theme\n\n<Frame><img width=\"640\" alt=\"Theme configuration with fonts\" src=\"https://deco.cx/docs/performance/theme-font.png\"/></Frame>\n\nThe `Themes` component in deco is already prepared to use optimized fonts\n[offered by Google](https://fonts.google.com/) through the `GoogleFont` font\nloader.\n\n## Custom Fonts\n\nTo use custom fonts, it is recommended to use a font preferably in the\nwoff/woff2 format and with a small file size (less than 25kb).\n\nThis font can be served statically by placing the file in the `static`\ndirectory.\n\nThen, in the `Theme` space, in a specific theme, simply specify the font name\nand the associated style guide. For a font in the file `static/my_font.ttf`, use\nthe following style:\n\n```css\n<style>\n@font-face {\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(/live/invoke/website/loaders/asset.ts?src=https://sualoja.deco.site/minha_fonte.ttf) format('truetype');\n}\n</style>\n```\n\n<Frame><img width=\"320\" alt=\"Using custom fonts\" src=\"https://deco.cx/docs/performance/custom-font.png\"/></Frame>\n\n> **important**: The font is cached in our CDN and users' browsers. If it is\n> necessary to replace the font and eliminate the user's cache, add a parameter\n> like `?v=2024_01_01` to the font URL to invalidate the original cache.\n\nThe `font-display: swap` allows the browser to use a fallback font until the\nactual font is loaded. This speeds up the rendering of text content but may\nimpact layout shifting.\n\n> **tip**: An alternative is to use `font-display: optional`, which allows the\n> browser to activate the fallback font only if the user's connection is slow.\n"
}